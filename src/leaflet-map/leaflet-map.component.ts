import {AfterViewInit, Component, ElementRef, OnInit} from '@angular/core';
import * as L from 'leaflet';
import { Language } from '@maptiler/sdk';
import * as maptiler from '@maptiler/sdk';
import {MapService} from "./map.service";
import * as jsonData from '../assets/data/sorted.json';
@Component({
  selector: 'app-leaflet-map',
  standalone: true,
  imports: [],
  templateUrl: './leaflet-map.component.html',
  styleUrl: './leaflet-map.component.css'
})
export class LeafletMapComponent implements OnInit, AfterViewInit {
  private containerId = 'map';
  private map: L.Map | undefined;
  data = jsonData;

  constructor(private mapService: MapService) {}

  ngOnInit(): void {
    // Khởi tạo bản đồ
    this.map = this.mapService.initMap(this.containerId, [21.028511, 105.804817], 13);
    this.mapService.addTileLayer(this.containerId);

    // Thêm lớp tile

    // Thêm sự kiện click để hiển thị toạ độ khi click trên bản đồ
    this.mapService.addClickEvent(this.containerId, (e: L.LeafletMouseEvent) => {

    });
  }
  ngAfterViewInit(): void {
    console.log(this.data)
    this.addPolygonFromJson();
  }

  // Dọn dẹp bản đồ khi component bị hủy
  ngOnDestroy(): void {
    this.mapService.destroyMap(this.containerId);
  }

  private addPolygonFromJson(): void {
    const jsonData = {
      "level1_id": "01",
      "name": "Thành phố Hà Nội",
      "level2s": [
        {
          "level2_id": "001",
          "name": "Quận Ba Đình",
          "coordinates": [
            [
              [
                [
                  105.801469498,
                  21.0304271810001
                ],
                [
                  105.804091316,
                  21.033517535
                ],
                [
                  105.806098907,
                  21.0363643850001
                ],
                [
                  105.806311271,
                  21.036855856
                ],
                [
                  105.806472267,
                  21.0375445610001
                ],
                [
                  105.806473327,
                  21.0377415460001
                ],
                [
                  105.80642726,
                  21.038923702
                ],
                [
                  105.805610782,
                  21.0447188140001
                ],
                [
                  105.805440414,
                  21.045439764
                ],
                [
                  105.807914422,
                  21.0454660840001
                ],
                [
                  105.807959268,
                  21.0465965070001
                ],
                [
                  105.808902677,
                  21.0464304010001
                ],
                [
                  105.809969372,
                  21.0458498560001
                ],
                [
                  105.811344473,
                  21.044970419
                ],
                [
                  105.812417334,
                  21.0441783750001
                ],
                [
                  105.814424232,
                  21.042939201
                ],
                [
                  105.815600981,
                  21.0420869010001
                ],
                [
                  105.817819584,
                  21.0417598980001
                ],
                [
                  105.820371802,
                  21.0419096580001
                ],
                [
                  105.821771134,
                  21.0417005240001
                ],
                [
                  105.824135604,
                  21.040801554
                ],
                [
                  105.82535703,
                  21.039887994
                ],
                [
                  105.82647146,
                  21.039251488
                ],
                [
                  105.827567776,
                  21.039006439
                ],
                [
                  105.828106394,
                  21.039003816
                ],
                [
                  105.828692634,
                  21.0391010020001
                ],
                [
                  105.829770368,
                  21.0398283430001
                ],
                [
                  105.830542616,
                  21.040822082
                ],
                [
                  105.830979756,
                  21.0413015980001
                ],
                [
                  105.83141234,
                  21.041603047
                ],
                [
                  105.831951819,
                  21.0417521850001
                ],
                [
                  105.833083219,
                  21.0417972390001
                ],
                [
                  105.835839078,
                  21.0416019890001
                ],
                [
                  105.836074632,
                  21.0435276000001
                ],
                [
                  105.836261173,
                  21.0457611360001
                ],
                [
                  105.83643858,
                  21.0463597570001
                ],
                [
                  105.836615084,
                  21.0467948780001
                ],
                [
                  105.837024596,
                  21.047392346
                ],
                [
                  105.838136179,
                  21.049021834
                ],
                [
                  105.838839182,
                  21.050217343
                ],
                [
                  105.839349963,
                  21.0506244640001
                ],
                [
                  105.840731575,
                  21.051345412
                ],
                [
                  105.842112289,
                  21.051904629
                ],
                [
                  105.844167645,
                  21.0499536770001
                ],
                [
                  105.84686847,
                  21.051615235
                ],
                [
                  105.847972707,
                  21.0524911260001
                ],
                [
                  105.849083243,
                  21.053886376
                ],
                [
                  105.849175991,
                  21.053680098
                ],
                [
                  105.855895644,
                  21.0438675400001
                ],
                [
                  105.857163698,
                  21.0419926700001
                ],
                [
                  105.852246537,
                  21.040154393
                ],
                [
                  105.851354981,
                  21.0407304180001
                ],
                [
                  105.848841642,
                  21.040989127
                ],
                [
                  105.846896466,
                  21.0402210240001
                ],
                [
                  105.845567811,
                  21.040000945
                ],
                [
                  105.844482414,
                  21.0401757820001
                ],
                [
                  105.841908374,
                  21.0306276960001
                ],
                [
                  105.842629953,
                  21.0290104920001
                ],
                [
                  105.842790286,
                  21.0287423180001
                ],
                [
                  105.835971714,
                  21.030752297
                ],
                [
                  105.835137623,
                  21.031070469
                ],
                [
                  105.832383209,
                  21.0319158950001
                ],
                [
                  105.830978624,
                  21.032202957
                ],
                [
                  105.830453785,
                  21.030733259
                ],
                [
                  105.829247857,
                  21.0310233480001
                ],
                [
                  105.828296414,
                  21.030540785
                ],
                [
                  105.827517254,
                  21.0300167660001
                ],
                [
                  105.825916734,
                  21.028500766
                ],
                [
                  105.823968218,
                  21.0269755040001
                ],
                [
                  105.822634492,
                  21.0258309160001
                ],
                [
                  105.820992369,
                  21.0243041260001
                ],
                [
                  105.82022209,
                  21.0235776540001
                ],
                [
                  105.820207512,
                  21.023558381
                ],
                [
                  105.821075749,
                  21.023363653
                ],
                [
                  105.819956789,
                  21.021240736
                ],
                [
                  105.820126745,
                  21.019212161
                ],
                [
                  105.818916231,
                  21.0186495840001
                ],
                [
                  105.817919568,
                  21.017761163
                ],
                [
                  105.816245277,
                  21.0158551700001
                ],
                [
                  105.815116269,
                  21.0165557350001
                ],
                [
                  105.814197269,
                  21.0169903190001
                ],
                [
                  105.811999462,
                  21.0180464430001
                ],
                [
                  105.810907319,
                  21.018654251
                ],
                [
                  105.811436678,
                  21.019512553
                ],
                [
                  105.810684545,
                  21.0199422480001
                ],
                [
                  105.81223407,
                  21.0227992000001
                ],
                [
                  105.811817666,
                  21.0248112560001
                ],
                [
                  105.801469498,
                  21.0304271810001
                ]
              ]
            ]
          ],
          "bbox": [
            105.801469498,
            21.0158551700001,
            105.857163698,
            21.053886376
          ],
          "type": "MultiPolygon"
        },
        {
          "level2_id": "002",
          "name": "Quận Hoàn Kiếm",
          "coordinates": [
            [
              [
                [
                  105.842790286,
                  21.0287423180001
                ],
                [
                  105.842629953,
                  21.0290104920001
                ],
                [
                  105.841908374,
                  21.0306276960001
                ],
                [
                  105.844482414,
                  21.0401757820001
                ],
                [
                  105.845567811,
                  21.040000945
                ],
                [
                  105.846896466,
                  21.0402210240001
                ],
                [
                  105.848841642,
                  21.040989127
                ],
                [
                  105.851354981,
                  21.0407304180001
                ],
                [
                  105.852246537,
                  21.040154393
                ],
                [
                  105.857163698,
                  21.0419926700001
                ],
                [
                  105.857370421,
                  21.041687025
                ],
                [
                  105.86211962,
                  21.034212455
                ],
                [
                  105.86538848,
                  21.0279870640001
                ],
                [
                  105.868260277,
                  21.0215965310001
                ],
                [
                  105.866649584,
                  21.0204663220001
                ],
                [
                  105.864311792,
                  21.0192167550001
                ],
                [
                  105.86193773,
                  21.0186748260001
                ],
                [
                  105.860661025,
                  21.018650544
                ],
                [
                  105.858425313,
                  21.0191656370001
                ],
                [
                  105.857710935,
                  21.0187201690001
                ],
                [
                  105.856641138,
                  21.018371997
                ],
                [
                  105.855068702,
                  21.0179968730001
                ],
                [
                  105.854251668,
                  21.017912589
                ],
                [
                  105.852336628,
                  21.0180400460001
                ],
                [
                  105.851426936,
                  21.018131247
                ],
                [
                  105.84935077,
                  21.018492876
                ],
                [
                  105.847584862,
                  21.018892291
                ],
                [
                  105.844213183,
                  21.0196898570001
                ],
                [
                  105.843382637,
                  21.019938101
                ],
                [
                  105.843338493,
                  21.0244879970001
                ],
                [
                  105.843357093,
                  21.0277942550001
                ],
                [
                  105.842790286,
                  21.0287423180001
                ]
              ]
            ]
          ],
          "bbox": [
            105.841908374,
            21.017912589,
            105.868260277,
            21.0419926700001
          ],
          "type": "MultiPolygon"
        },
        {
          "level2_id": "003",
          "name": "Quận Tây Hồ",
          "coordinates": [
            [
              [
                [
                  105.794909104,
                  21.050823258
                ],
                [
                  105.7997856,
                  21.0553794160001
                ],
                [
                  105.796573023,
                  21.0582681490001
                ],
                [
                  105.804902513,
                  21.0657847530001
                ],
                [
                  105.806833909,
                  21.0674061240001
                ],
                [
                  105.803197618,
                  21.0710280220001
                ],
                [
                  105.803297414,
                  21.0734033360001
                ],
                [
                  105.803041125,
                  21.0743057120001
                ],
                [
                  105.802436225,
                  21.0751278170001
                ],
                [
                  105.799831485,
                  21.0763689630001
                ],
                [
                  105.80027679,
                  21.0782511210001
                ],
                [
                  105.799584371,
                  21.0789917000001
                ],
                [
                  105.79845627,
                  21.0796523980001
                ],
                [
                  105.796893364,
                  21.0803970590001
                ],
                [
                  105.796196992,
                  21.0804003270001
                ],
                [
                  105.795322596,
                  21.079667112
                ],
                [
                  105.794626227,
                  21.079670374
                ],
                [
                  105.794192729,
                  21.0800001010001
                ],
                [
                  105.793764024,
                  21.081230969
                ],
                [
                  105.79343192,
                  21.0842637050001
                ],
                [
                  105.793107642,
                  21.0887710330001
                ],
                [
                  105.793427934,
                  21.0928882150001
                ],
                [
                  105.796096679,
                  21.098025987
                ],
                [
                  105.802312945,
                  21.0972236470001
                ],
                [
                  105.807684185,
                  21.096327827
                ],
                [
                  105.813273129,
                  21.094859328
                ],
                [
                  105.818512872,
                  21.0927422450001
                ],
                [
                  105.824698122,
                  21.088976799
                ],
                [
                  105.83104217,
                  21.085210348
                ],
                [
                  105.836237361,
                  21.081294429
                ],
                [
                  105.836429552,
                  21.0811495560001
                ],
                [
                  105.838247203,
                  21.079345663
                ],
                [
                  105.841036991,
                  21.075761809
                ],
                [
                  105.842342641,
                  21.072806159
                ],
                [
                  105.844621479,
                  21.0665860550001
                ],
                [
                  105.84819676,
                  21.055858071
                ],
                [
                  105.849083243,
                  21.053886376
                ],
                [
                  105.847972707,
                  21.0524911260001
                ],
                [
                  105.84686847,
                  21.051615235
                ],
                [
                  105.844167645,
                  21.0499536770001
                ],
                [
                  105.842112289,
                  21.051904629
                ],
                [
                  105.840731575,
                  21.051345412
                ],
                [
                  105.839349963,
                  21.0506244640001
                ],
                [
                  105.838839182,
                  21.050217343
                ],
                [
                  105.838136179,
                  21.049021834
                ],
                [
                  105.837024596,
                  21.047392346
                ],
                [
                  105.836615084,
                  21.0467948780001
                ],
                [
                  105.83643858,
                  21.0463597570001
                ],
                [
                  105.836261173,
                  21.0457611360001
                ],
                [
                  105.836074632,
                  21.0435276000001
                ],
                [
                  105.835839078,
                  21.0416019890001
                ],
                [
                  105.833083219,
                  21.0417972390001
                ],
                [
                  105.831951819,
                  21.0417521850001
                ],
                [
                  105.83141234,
                  21.041603047
                ],
                [
                  105.830979756,
                  21.0413015980001
                ],
                [
                  105.830542616,
                  21.040822082
                ],
                [
                  105.829770368,
                  21.0398283430001
                ],
                [
                  105.828692634,
                  21.0391010020001
                ],
                [
                  105.828106394,
                  21.039003816
                ],
                [
                  105.827567776,
                  21.039006439
                ],
                [
                  105.82647146,
                  21.039251488
                ],
                [
                  105.82535703,
                  21.039887994
                ],
                [
                  105.824135604,
                  21.040801554
                ],
                [
                  105.821771134,
                  21.0417005240001
                ],
                [
                  105.820371802,
                  21.0419096580001
                ],
                [
                  105.817819584,
                  21.0417598980001
                ],
                [
                  105.815600981,
                  21.0420869010001
                ],
                [
                  105.814424232,
                  21.042939201
                ],
                [
                  105.812417334,
                  21.0441783750001
                ],
                [
                  105.811344473,
                  21.044970419
                ],
                [
                  105.809969372,
                  21.0458498560001
                ],
                [
                  105.808902677,
                  21.0464304010001
                ],
                [
                  105.807959268,
                  21.0465965070001
                ],
                [
                  105.807982448,
                  21.047180697
                ],
                [
                  105.808135182,
                  21.048258719
                ],
                [
                  105.808804595,
                  21.049790683
                ],
                [
                  105.80952027,
                  21.0517234760001
                ],
                [
                  105.809701656,
                  21.052663061
                ],
                [
                  105.809707939,
                  21.0538247550001
                ],
                [
                  105.809366094,
                  21.055817915
                ],
                [
                  105.809139395,
                  21.0573679660001
                ],
                [
                  105.809206539,
                  21.0589166080001
                ],
                [
                  105.808795733,
                  21.059029206
                ],
                [
                  105.807283174,
                  21.0586357560001
                ],
                [
                  105.807223581,
                  21.057260801
                ],
                [
                  105.807338132,
                  21.0565674470001
                ],
                [
                  105.806995032,
                  21.056405021
                ],
                [
                  105.805918024,
                  21.05596733
                ],
                [
                  105.805779132,
                  21.0558217400001
                ],
                [
                  105.805708239,
                  21.055480835
                ],
                [
                  105.805493121,
                  21.0540031210001
                ],
                [
                  105.805369313,
                  21.053451211
                ],
                [
                  105.805161019,
                  21.0532409510001
                ],
                [
                  105.804796844,
                  21.0529339340001
                ],
                [
                  105.804016883,
                  21.0523526310001
                ],
                [
                  105.803505412,
                  21.051940689
                ],
                [
                  105.803071317,
                  21.051471495
                ],
                [
                  105.802810456,
                  21.051115232
                ],
                [
                  105.802218136,
                  21.05011054
                ],
                [
                  105.801577681,
                  21.0497885660001
                ],
                [
                  105.800954765,
                  21.0495152500001
                ],
                [
                  105.800488064,
                  21.0494037080001
                ],
                [
                  105.799338041,
                  21.0491074890001
                ],
                [
                  105.798272782,
                  21.047918958
                ],
                [
                  105.794909104,
                  21.050823258
                ]
              ]
            ]
          ],
          "bbox": [
            105.793107642,
            21.039003816,
            105.849083243,
            21.098025987
          ],
          "type": "MultiPolygon"
        },
        {
          "level2_id": "006",
          "name": "Quận Đống Đa",
          "coordinates": [
            [
              [
                [
                  105.814017024,
                  21.0084007090001
                ],
                [
                  105.813609039,
                  21.0088246940001
                ],
                [
                  105.812564537,
                  21.0096115910001
                ],
                [
                  105.809925531,
                  21.01118992
                ],
                [
                  105.808942743,
                  21.011881337
                ],
                [
                  105.808180235,
                  21.0123709710001
                ],
                [
                  105.806519549,
                  21.013650881
                ],
                [
                  105.804833324,
                  21.0152619740001
                ],
                [
                  105.804038316,
                  21.0162410890001
                ],
                [
                  105.802814138,
                  21.017728973
                ],
                [
                  105.798276827,
                  21.023710587
                ],
                [
                  105.797905656,
                  21.02429834
                ],
                [
                  105.797908774,
                  21.024884345
                ],
                [
                  105.797975525,
                  21.0257044470001
                ],
                [
                  105.798102779,
                  21.0261726580001
                ],
                [
                  105.798292429,
                  21.0266405850001
                ],
                [
                  105.799109012,
                  21.0276915690001
                ],
                [
                  105.801136707,
                  21.030034904
                ],
                [
                  105.801469498,
                  21.0304271810001
                ],
                [
                  105.811817666,
                  21.0248112560001
                ],
                [
                  105.81223407,
                  21.0227992000001
                ],
                [
                  105.810684545,
                  21.0199422480001
                ],
                [
                  105.811436678,
                  21.019512553
                ],
                [
                  105.810907319,
                  21.018654251
                ],
                [
                  105.811999462,
                  21.0180464430001
                ],
                [
                  105.814197269,
                  21.0169903190001
                ],
                [
                  105.815116269,
                  21.0165557350001
                ],
                [
                  105.816245277,
                  21.0158551700001
                ],
                [
                  105.817919568,
                  21.017761163
                ],
                [
                  105.818916231,
                  21.0186495840001
                ],
                [
                  105.820126745,
                  21.019212161
                ],
                [
                  105.819956789,
                  21.021240736
                ],
                [
                  105.821075749,
                  21.023363653
                ],
                [
                  105.820207512,
                  21.023558381
                ],
                [
                  105.82022209,
                  21.0235776540001
                ],
                [
                  105.820992369,
                  21.0243041260001
                ],
                [
                  105.822634492,
                  21.0258309160001
                ],
                [
                  105.823968218,
                  21.0269755040001
                ],
                [
                  105.825916734,
                  21.028500766
                ],
                [
                  105.827517254,
                  21.0300167660001
                ],
                [
                  105.828296414,
                  21.030540785
                ],
                [
                  105.829247857,
                  21.0310233480001
                ],
                [
                  105.830453785,
                  21.030733259
                ],
                [
                  105.830978624,
                  21.032202957
                ],
                [
                  105.832383209,
                  21.0319158950001
                ],
                [
                  105.835137623,
                  21.031070469
                ],
                [
                  105.835971714,
                  21.030752297
                ],
                [
                  105.842790286,
                  21.0287423180001
                ],
                [
                  105.843357093,
                  21.0277942550001
                ],
                [
                  105.843338493,
                  21.0244879970001
                ],
                [
                  105.843382637,
                  21.019938101
                ],
                [
                  105.843423373,
                  21.0157398690001
                ],
                [
                  105.843442033,
                  21.009634051
                ],
                [
                  105.843291399,
                  20.9989635420001
                ],
                [
                  105.843095435,
                  20.9973581690001
                ],
                [
                  105.840921623,
                  20.997844521
                ],
                [
                  105.835929631,
                  20.998959961
                ],
                [
                  105.836199661,
                  20.99896018
                ],
                [
                  105.835989555,
                  20.999013985
                ],
                [
                  105.835970023,
                  20.9990207760001
                ],
                [
                  105.835418216,
                  21.0000073210001
                ],
                [
                  105.834856459,
                  21.0005418480001
                ],
                [
                  105.833357424,
                  21.0013406210001
                ],
                [
                  105.830895345,
                  21.0020294940001
                ],
                [
                  105.82765742,
                  21.002744992
                ],
                [
                  105.824107449,
                  21.0034660150001
                ],
                [
                  105.822417791,
                  21.003552277
                ],
                [
                  105.820980527,
                  21.003271893
                ],
                [
                  105.819662975,
                  21.003004908
                ],
                [
                  105.819163842,
                  21.002929221
                ],
                [
                  105.81787635,
                  21.002322586
                ],
                [
                  105.817780629,
                  21.002550801
                ],
                [
                  105.816484536,
                  21.0050768840001
                ],
                [
                  105.815974581,
                  21.0060023990001
                ],
                [
                  105.815343532,
                  21.007022159
                ],
                [
                  105.814017024,
                  21.0084007090001
                ]
              ]
            ]
          ],
          "bbox": [
            105.797905656,
            20.9973581690001,
            105.843442033,
            21.032202957
          ],
          "type": "MultiPolygon"
        },
        {
          "level2_id": "007",
          "name": "Quận Hai Bà Trưng",
          "coordinates": [
            [
              [
                [
                  105.842420415,
                  20.9916070510001
                ],
                [
                  105.842414377,
                  20.9922044730001
                ],
                [
                  105.842614762,
                  20.994423996
                ],
                [
                  105.842918554,
                  20.996393687
                ],
                [
                  105.843025546,
                  20.996785618
                ],
                [
                  105.843095435,
                  20.9973581690001
                ],
                [
                  105.843291399,
                  20.9989635420001
                ],
                [
                  105.843442033,
                  21.009634051
                ],
                [
                  105.843423373,
                  21.0157398690001
                ],
                [
                  105.843382637,
                  21.019938101
                ],
                [
                  105.844213183,
                  21.0196898570001
                ],
                [
                  105.847584862,
                  21.018892291
                ],
                [
                  105.84935077,
                  21.018492876
                ],
                [
                  105.851426936,
                  21.018131247
                ],
                [
                  105.852336628,
                  21.0180400460001
                ],
                [
                  105.854251668,
                  21.017912589
                ],
                [
                  105.855068702,
                  21.0179968730001
                ],
                [
                  105.856641138,
                  21.018371997
                ],
                [
                  105.857710935,
                  21.0187201690001
                ],
                [
                  105.858425313,
                  21.0191656370001
                ],
                [
                  105.860661025,
                  21.018650544
                ],
                [
                  105.86193773,
                  21.0186748260001
                ],
                [
                  105.864311792,
                  21.0192167550001
                ],
                [
                  105.866649584,
                  21.0204663220001
                ],
                [
                  105.868260277,
                  21.0215965310001
                ],
                [
                  105.86832484,
                  21.021452863
                ],
                [
                  105.870199214,
                  21.0170195210001
                ],
                [
                  105.872309115,
                  21.010489481
                ],
                [
                  105.873779723,
                  21.0076879760001
                ],
                [
                  105.875094123,
                  21.0064394660001
                ],
                [
                  105.877728322,
                  21.0048736970001
                ],
                [
                  105.882181482,
                  21.003608919
                ],
                [
                  105.882425316,
                  21.0035285010001
                ],
                [
                  105.88151277,
                  21.0010866540001
                ],
                [
                  105.875669303,
                  21.0029059230001
                ],
                [
                  105.875162545,
                  21.0014420480001
                ],
                [
                  105.878021567,
                  21.0004594530001
                ],
                [
                  105.878329849,
                  20.9999299260001
                ],
                [
                  105.878325388,
                  20.999167377
                ],
                [
                  105.87756729,
                  20.997323523
                ],
                [
                  105.87569702,
                  20.9969811990001
                ],
                [
                  105.875621062,
                  20.994635225
                ],
                [
                  105.872941282,
                  20.99429703
                ],
                [
                  105.871755027,
                  20.9937751800001
                ],
                [
                  105.870134415,
                  20.993519496
                ],
                [
                  105.866617533,
                  20.9938014050001
                ],
                [
                  105.866468624,
                  20.994975348
                ],
                [
                  105.863733519,
                  20.995047899
                ],
                [
                  105.862836511,
                  20.9961669780001
                ],
                [
                  105.862120512,
                  20.996341537
                ],
                [
                  105.86227934,
                  20.995276978
                ],
                [
                  105.862494626,
                  20.9934678270001
                ],
                [
                  105.860414132,
                  20.992915394
                ],
                [
                  105.860061877,
                  20.993975237
                ],
                [
                  105.861351107,
                  20.9944134200001
                ],
                [
                  105.861175559,
                  20.9950430120001
                ],
                [
                  105.860740164,
                  20.995900379
                ],
                [
                  105.857256003,
                  20.99512114
                ],
                [
                  105.857160324,
                  20.993560519
                ],
                [
                  105.856979761,
                  20.9933160840001
                ],
                [
                  105.856686595,
                  20.99331756
                ],
                [
                  105.85369248,
                  20.993807953
                ],
                [
                  105.852217528,
                  20.9938650340001
                ],
                [
                  105.850991347,
                  20.9930964550001
                ],
                [
                  105.850914675,
                  20.9927681830001
                ],
                [
                  105.850938281,
                  20.992533301
                ],
                [
                  105.851307639,
                  20.9917098070001
                ],
                [
                  105.85128084,
                  20.9913812770001
                ],
                [
                  105.850931099,
                  20.9912656430001
                ],
                [
                  105.848461693,
                  20.9911136370001
                ],
                [
                  105.84783834,
                  20.991116741
                ],
                [
                  105.847316179,
                  20.991377577
                ],
                [
                  105.844961433,
                  20.9938777140001
                ],
                [
                  105.844189909,
                  20.994427081
                ],
                [
                  105.843272861,
                  20.992945853
                ],
                [
                  105.843129008,
                  20.992460303
                ],
                [
                  105.843123796,
                  20.991532013
                ],
                [
                  105.842420415,
                  20.9916070510001
                ]
              ]
            ]
          ],
          "bbox": [
            105.842414377,
            20.9911136370001,
            105.882425316,
            21.0215965310001
          ],
          "type": "MultiPolygon"
        }
      ],
      "bbox": [
        105.28500419,
        20.5642508770001,
        106.020154616,
        21.3855144820001
      ],
      "type": "MultiPolygon"
    };
    const listDistrict = jsonData.level2s;

    listDistrict.forEach((district) => {
      const geoJsonData = {
        type: 'Feature',
        geometry: {
          type: 'MultiPolygon',
          coordinates: district.coordinates,
        },
      };

      this.mapService.addPolygon(this.containerId, geoJsonData, null);
    });
  }

}
